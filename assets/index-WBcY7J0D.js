import{a as V,J as F,A as m,a4 as c,o as w,g as B,w as a,e as l,u as t,K as g,b as v,ah as C,a7 as f,i as N,E as I,aa as U,D as q,ad as $,ae as z,G as A}from"./index-vpA-h1lW.js";import{c as D,v as G}from"./validator-RQhN6wQS.js";const J=v("div",{class:"form-title"},[v("span",null,"重置密码")],-1),T=V({__name:"index",setup(K){let y=F(),o=m(!1),i=m(),_=m(),s=c({email:"",sliderPass:!1}),P=c({email:[{required:!0,message:"Please input email",trigger:"blur"},{validator:D,trigger:"blur"}],sliderPass:[{validator:G,trigger:"blur"}]});const b=u=>{u&&u.validate(async e=>{e?(o.value=!0,await C(s.email).then(()=>{f({title:"邮件发送成功",type:"success",message:"请重置密码"}),o.value=!1},d=>{f({title:"邮件发送失败",type:"error",message:d}),o.value=!1,s.sliderPass=!1,i.value.reset()})):(f({title:"表单校验失败",type:"error"}),o.value=!1,s.sliderPass=!1,i.value.reset())})};return(u,e)=>{const d=N,x=I,E=U,n=q,R=$,p=z,k=A;return w(),B(k,{ref_key:"forgetFormRef",ref:_,size:"large",model:t(s),rules:t(P)},{default:a(()=>[J,l(n,{prop:"email"},{default:a(()=>[l(E,{type:"text",modelValue:t(s).email,"onUpdate:modelValue":e[0]||(e[0]=r=>t(s).email=r),placeholder:"输入电子邮箱",clearable:""},{prefix:a(()=>[l(x,null,{default:a(()=>[l(d,{name:"Message"})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(n,{prop:"sliderPass"},{default:a(()=>[l(R,{ref_key:"slideRef",ref:i,value:t(s).sliderPass,"onUpdate:value":e[1]||(e[1]=r=>t(s).sliderPass=r)},null,8,["value"])]),_:1}),l(n,null,{default:a(()=>[l(p,{class:"form-button",type:"primary",loading:t(o),onClick:e[2]||(e[2]=r=>b(t(_)))},{default:a(()=>[g(" 发送重置密码的邮件 ")]),_:1},8,["loading"])]),_:1}),l(n,null,{default:a(()=>[l(p,{class:"form-button",onClick:e[3]||(e[3]=r=>t(y).push("/account/login"))},{default:a(()=>[g(" 登 录 ")]),_:1})]),_:1})]),_:1},8,["model","rules"])}}});export{T as default};
